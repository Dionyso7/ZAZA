<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produit - Zaza A Paris | Bijoux d'Exception</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="cart-enhanced.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@300;400;500;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        .product-detail-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 120px 2rem 80px;
        }

        .product-detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: start;
        }

        .product-images {
            position: sticky;
            top: 120px;
        }

        .main-image {
            width: 100%;
            height: 500px;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 1rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }

        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .main-image:hover img {
            transform: scale(1.05);
        }

        .thumbnail-images {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
        }

        .thumbnail {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
            flex-shrink: 0;
        }

        .thumbnail.active,
        .thumbnail:hover {
            opacity: 1;
        }

        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-info {
            padding: 2rem 0;
        }

        .product-category {
            color: #d4af37;
            font-size: 0.9rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }

        .product-title {
            font-size: 2.5rem;
            font-weight: 300;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .product-price {
            font-size: 2rem;
            font-weight: 600;
            color: #d4af37;
            margin-bottom: 2rem;
        }

        .product-description {
            color: #7f8c8d;
            line-height: 1.8;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .product-features {
            margin-bottom: 3rem;
        }

        .product-features h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .features-list {
            list-style: none;
            padding: 0;
        }

        .features-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #ecf0f1;
            display: flex;
            justify-content: space-between;
        }

        .features-list li:last-child {
            border-bottom: none;
        }

        .feature-label {
            font-weight: 500;
            color: #2c3e50;
        }

        .feature-value {
            color: #7f8c8d;
        }

        .product-actions {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #d4af37, #ffd700);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: #2c3e50;
            border: 2px solid #2c3e50;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #2c3e50;
            color: white;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            color: #7f8c8d;
            text-decoration: none;
            margin-bottom: 2rem;
            transition: color 0.3s ease;
        }

        .back-link:hover {
            color: #d4af37;
        }

        .back-link::before {
            content: '‚Üê';
            margin-right: 0.5rem;
            font-size: 1.2rem;
        }

        @media (max-width: 768px) {
            .product-detail-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .product-images {
                position: static;
            }

            .product-title {
                font-size: 2rem;
            }

            .product-actions {
                flex-direction: column;
            }

            .product-detail-container {
                padding: 100px 1rem 60px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Flottante -->
    <nav class="floating-nav">
        <div class="nav-buttons">
            <a href="accueil.html" class="nav-btn">Accueil</a>
            <a href="collections.html" class="nav-btn">Collections</a>
            <a href="journal.html" class="nav-btn">Journal</a>
            <a href="maison.html" class="nav-btn">La Maison</a>
            <a href="contact.html" class="nav-btn">Contact</a>
        </div>
        <div class="nav-icons">
                <span class="search-icon">üîç</span>
                <div class="cart-icon">
                    üõçÔ∏è
                    <span class="cart-count" style="display: none;">0</span>
                </div>
            </div>
    </nav>

    <!-- Product Detail Container -->
    <section class="product-detail-container">
        <a href="collections.html" class="back-link">Retour aux collections</a>
        
        <div class="product-detail-grid">
            <!-- Product Images -->
            <div class="product-images">
                <div class="main-image">
                    <img id="main-product-image" src="" alt="" loading="lazy">
                </div>
                <div class="thumbnail-images" id="thumbnail-container">
                    <!-- Thumbnails will be loaded here -->
                </div>
            </div>

            <!-- Product Info -->
            <div class="product-info">
                <div class="product-category" id="product-category">Collection</div>
                <h1 class="product-title" id="product-title">Nom du produit</h1>
                <div class="product-price" id="product-price">Prix</div>
                <div class="product-description" id="product-description">
                    Description du produit
                </div>

                <div class="product-features">
                    <h3>Caract√©ristiques</h3>
                    <ul class="features-list" id="features-list">
                        <!-- Features will be loaded here -->
                    </ul>
                </div>

                <div class="product-actions">
                    <button class="btn-primary" id="add-to-cart-btn">Ajouter au panier</button>
                    <button class="btn-secondary" onclick="window.location.href='contact.html'">Demander des informations</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Am√©lior√© -->
    <footer class="footer-enhanced">
        <div class="footer-background">
            <img src="assets/images/blog/ILLUSTRATION/pexels-diva-33035953.jpg" alt="Zaza A Paris" class="footer-bg-image">
            <div class="footer-overlay"></div>
        </div>
        <div class="container">
            <div class="footer-content-enhanced">
                <div class="footer-section-enhanced footer-brand">
                    <h3 class="footer-logo">Zaza A Paris</h3>
                    <p class="footer-tagline">L'art de la joaillerie parisienne depuis 1985</p>
                    <p class="footer-description">Cr√©ateur de bijoux d'exception, nous perp√©tuons l'excellence de la haute joaillerie fran√ßaise avec passion et savoir-faire artisanal.</p>
                    <div class="footer-certifications">
                        <span class="certification-badge">Ma√Ætre Artisan</span>
                        <span class="certification-badge">Made in Paris</span>
                    </div>
                </div>
                
                <div class="footer-section-enhanced">
                    <h4>Collections</h4>
                    <ul>
                        <li><a href="collections.html#eternite">Collection √âternit√©</a></li>
                        <li><a href="collections.html#lumiere">Collection Lumi√®re</a></li>
                        <li><a href="collections.html#modernite">Collection Modernit√©</a></li>
                        <li><a href="collections.html">Toutes nos cr√©ations</a></li>
                        <li><a href="collections.html#nouveautes">Nouveaut√©s</a></li>
                    </ul>
                </div>
                
                <div class="footer-section-enhanced">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="contact.html#sur-mesure">Cr√©ation sur mesure</a></li>
                        <li><a href="contact.html#consultation">Consultation priv√©e</a></li>
                        <li><a href="contact.html#reparation">R√©paration & entretien</a></li>
                        <li><a href="contact.html#expertise">Expertise & estimation</a></li>
                        <li><a href="contact.html#livraison">Livraison s√©curis√©e</a></li>
                    </ul>
                </div>
                
                <div class="footer-section-enhanced">
                    <h4>Contact & Boutique</h4>
                    <div class="contact-info-enhanced">
                        <p><span class="contact-icon">üìç</span> 15 Place Vend√¥me, 75001 Paris</p>
                        <p><span class="contact-icon">üìû</span> +33 1 42 60 95 23</p>
                        <p><span class="contact-icon">‚úâÔ∏è</span> contact@zazaaparis.fr</p>
                        <p><span class="contact-icon">üïí</span> Lun-Sam 10h-19h</p>
                        <p><span class="contact-icon">üöá</span> M√©tro Op√©ra, Tuileries</p>
                    </div>
                    <div class="social-links-enhanced">
                        <a href="#" class="social-link" aria-label="Instagram">Instagram</a>
                        <a href="#" class="social-link" aria-label="Facebook">Facebook</a>
                        <a href="#" class="social-link" aria-label="Pinterest">Pinterest</a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom-enhanced">
                <div class="footer-bottom-content">
                    <div class="footer-copyright">
                        <p>&copy; 2024 Zaza A Paris. Tous droits r√©serv√©s.</p>
                        <p class="footer-subtitle">Bijouterie artisanale fran√ßaise</p>
                    </div>
                    <div class="footer-links">
                        <a href="#mentions-legales">Mentions l√©gales</a>
                        <a href="#confidentialite">Confidentialit√©</a>
                        <a href="#cgv">CGV</a>
                        <a href="#cookies">Cookies</a>
                    </div>
                    <div class="footer-payments">
                        <span class="payment-text">Paiements s√©curis√©s</span>
                        <div class="payment-icons">
                            <span class="payment-icon">üí≥</span>
                            <span class="payment-icon">üîí</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="cart-enhanced.js"></script>
    <script src="enhanced-features.js"></script>
    <script>
        // Variable globale pour stocker les donn√©es du produit actuel
        let currentProduct = null;
        
        // Fonction pour ajouter le produit au panier avec animation
        function addToCart() {
            if (currentProduct && window.enhancedCart) {
                const addToCartBtn = document.getElementById('add-to-cart-btn');
                
                // Animation du bouton
                if (addToCartBtn) {
                    addToCartBtn.style.transform = 'scale(0.95)';
                    addToCartBtn.style.transition = 'all 0.2s ease';
                    
                    setTimeout(() => {
                        addToCartBtn.style.transform = 'scale(1)';
                    }, 200);
                }
                
                // Ajouter au panier
                window.enhancedCart.addItem(currentProduct);
                
                // Notification de succ√®s
                showAddToCartNotification(currentProduct.title);
            }
        }
        
        // Fonction pour afficher une notification d'ajout au panier
        function showAddToCartNotification(productTitle) {
            // Cr√©er la notification
            const notification = document.createElement('div');
            notification.className = 'cart-notification';
            notification.innerHTML = `
                <div class="notification-content">
                    <span class="notification-icon">‚úì</span>
                    <span class="notification-text">"${productTitle}" ajout√© au panier</span>
                </div>
            `;
            
            // Styles pour la notification
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #2c3e50, #34495e);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                z-index: 10000;
                transform: translateX(100%);
                transition: all 0.3s ease;
                font-family: 'Playfair Display', serif;
                border: 1px solid rgba(255,255,255,0.1);
            `;
            
            document.body.appendChild(notification);
            
            // Animation d'entr√©e
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Animation de sortie
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        // Fonction pour nettoyer le HTML des descriptions
        function cleanDescription(htmlString) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = htmlString;
            return tempDiv.textContent || tempDiv.innerText || '';
        }

        // Fonction pour charger les d√©tails du produit
        async function loadProductDetails() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            
            if (!productId) {
                window.location.href = 'collections.html';
                return;
            }

            try {
                const response = await fetch('products_for_trae.json');
                const data = await response.json();
                
                const product = data.products.find(p => p.id == productId);
                
                if (!product) {
                    console.error('Produit non trouv√© avec l\'ID:', productId);
                    window.location.href = 'collections.html';
                    return;
                }

                // Stocker le produit actuel
                currentProduct = product;
                console.log('Produit charg√©:', product);
                console.log('Images du produit:', product.images);

                // Mettre √† jour le titre de la page
                document.title = `${product.title} - Zaza A Paris | Bijoux d'Exception`;

                // Remplir les informations du produit
                document.getElementById('product-category').textContent = 'Collection Exclusive';
                document.getElementById('product-title').textContent = product.title;
                document.getElementById('product-price').textContent = product.price;
                document.getElementById('product-description').innerHTML = product.description;

                // Charger l'image principale
                const mainImage = document.getElementById('main-product-image');
                console.log('Chargement de l\'image principale:', product.images[0]);
                mainImage.src = product.images[0];
                mainImage.alt = product.title;
                
                // Ajouter un gestionnaire d'erreur pour l'image
                mainImage.onerror = function() {
                    console.error('Erreur de chargement de l\'image:', this.src);
                };
                mainImage.onload = function() {
                    console.log('Image charg√©e avec succ√®s:', this.src);
                };

                // Charger les thumbnails
                const thumbnailContainer = document.getElementById('thumbnail-container');
                console.log('Nombre d\'images √† charger:', product.images.length);
                console.log('Images du produit:', product.images);
                
                product.images.forEach((image, index) => {
                    console.log(`Cr√©ation de la vignette ${index + 1}:`, image);
                    const thumbnail = document.createElement('div');
                    thumbnail.className = `thumbnail ${index === 0 ? 'active' : ''}`;
                    thumbnail.innerHTML = `<img src="${image}" alt="${product.title} - Image ${index + 1}">`;
                    
                    // Ajouter des gestionnaires d'√©v√©nements pour les vignettes
                    const thumbnailImg = thumbnail.querySelector('img');
                    thumbnailImg.onerror = function() {
                        console.error(`Erreur de chargement de la vignette ${index + 1}:`, this.src);
                    };
                    thumbnailImg.onload = function() {
                        console.log(`Vignette ${index + 1} charg√©e avec succ√®s:`, this.src);
                    };
                    
                    thumbnail.addEventListener('click', () => {
                        mainImage.src = image;
                        document.querySelectorAll('.thumbnail').forEach(t => t.classList.remove('active'));
                        thumbnail.classList.add('active');
                    });
                    
                    thumbnailContainer.appendChild(thumbnail);
                });

                // Ajouter des caract√©ristiques bas√©es sur les donn√©es du produit
                const featuresList = document.getElementById('features-list');
                const features = [
                    { label: 'Mat√©riau', value: product.material || 'Acier inoxydable' },
                    { label: 'Collection', value: product.collection || 'Colliers' },
                    { label: 'Couleur', value: product.color || 'Argent' },
                    { label: 'Taille', value: 'Ajustable' },
                    { label: 'Garantie', value: '2 ans' },
                    { label: 'Origine', value: 'Fabriqu√© √† Paris' }
                ];

                features.forEach(feature => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <span class="feature-label">${feature.label}</span>
                        <span class="feature-value">${feature.value}</span>
                    `;
                    featuresList.appendChild(li);
                });

                // Ajouter l'event listener au bouton d'ajout au panier
                const addToCartBtn = document.getElementById('add-to-cart-btn');
                if (addToCartBtn) {
                    addToCartBtn.addEventListener('click', addToCart);
                }

            } catch (error) {
                console.error('Erreur lors du chargement du produit:', error);
                window.location.href = 'collections.html';
            }
        }

        // Charger les d√©tails au chargement de la page
        document.addEventListener('DOMContentLoaded', function() {
            // Initialiser le panier am√©lior√©
            window.enhancedCart = new EnhancedShoppingCart();
            
            // Initialiser ZazaEcommerce pour les fonctionnalit√©s avanc√©es
            if (typeof ZazaEcommerce !== 'undefined') {
                window.zazaEcommerce = new ZazaEcommerce();
            }
            
            // Charger les d√©tails du produit
            loadProductDetails();
        });
    </script>
</body>
</html>